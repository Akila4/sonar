2022.02.21 08:39:36 INFO  ce[][o.s.p.ProcessEntryPoint] Starting ce
2022.02.21 08:39:36 INFO  ce[][o.s.ce.app.CeServer] Compute Engine starting up...
2022.02.21 08:39:37 INFO  ce[][o.e.p.PluginsService] no modules loaded
2022.02.21 08:39:37 INFO  ce[][o.e.p.PluginsService] loaded plugin [org.elasticsearch.join.ParentJoinPlugin]
2022.02.21 08:39:37 INFO  ce[][o.e.p.PluginsService] loaded plugin [org.elasticsearch.percolator.PercolatorPlugin]
2022.02.21 08:39:37 INFO  ce[][o.e.p.PluginsService] loaded plugin [org.elasticsearch.transport.Netty4Plugin]
2022.02.21 08:39:38 INFO  ce[][o.s.s.e.EsClientProvider] Connected to local Elasticsearch: [127.0.0.1:9001]
2022.02.21 08:39:38 INFO  ce[][o.sonar.db.Database] Create JDBC data source for jdbc:h2:tcp://127.0.0.1:9092/sonar
2022.02.21 08:39:38 WARN  ce[][o.s.db.dialect.H2] H2 database should be used for evaluation purpose only.
2022.02.21 08:39:40 INFO  ce[][o.s.s.p.ServerFileSystemImpl] SonarQube home: /opt/sonarqube
2022.02.21 08:39:40 INFO  ce[][o.s.c.c.CePluginRepository] Load plugins
2022.02.21 08:39:42 INFO  ce[][o.s.c.c.ComputeEngineContainerImpl] Running Community edition
2022.02.21 08:39:42 INFO  ce[][o.s.c.q.PurgeCeActivities] Delete the Compute Engine tasks created before 1629880782245
2022.02.21 08:39:42 INFO  ce[][o.s.c.q.PurgeCeActivities] Delete the Scanner contexts tasks created before 1643013582268
2022.02.21 08:39:42 INFO  ce[][o.s.ce.app.CeServer] Compute Engine is operational
2022.02.21 12:49:59 INFO  ce[][o.s.p.ProcessEntryPoint] Starting ce
2022.02.21 12:49:59 INFO  ce[][o.s.ce.app.CeServer] Compute Engine starting up...
2022.02.21 12:49:59 INFO  ce[][o.e.p.PluginsService] no modules loaded
2022.02.21 12:49:59 INFO  ce[][o.e.p.PluginsService] loaded plugin [org.elasticsearch.join.ParentJoinPlugin]
2022.02.21 12:49:59 INFO  ce[][o.e.p.PluginsService] loaded plugin [org.elasticsearch.percolator.PercolatorPlugin]
2022.02.21 12:49:59 INFO  ce[][o.e.p.PluginsService] loaded plugin [org.elasticsearch.transport.Netty4Plugin]
2022.02.21 12:50:01 INFO  ce[][o.s.s.e.EsClientProvider] Connected to local Elasticsearch: [127.0.0.1:9001]
2022.02.21 12:50:01 INFO  ce[][o.sonar.db.Database] Create JDBC data source for jdbc:h2:tcp://127.0.0.1:9092/sonar
2022.02.21 12:50:01 WARN  ce[][o.s.db.dialect.H2] H2 database should be used for evaluation purpose only.
2022.02.21 12:50:03 INFO  ce[][o.s.s.p.ServerFileSystemImpl] SonarQube home: /opt/sonarqube
2022.02.21 12:50:03 INFO  ce[][o.s.c.c.CePluginRepository] Load plugins
2022.02.21 12:50:05 INFO  ce[][o.s.c.c.ComputeEngineContainerImpl] Running Community edition
2022.02.21 12:50:05 INFO  ce[][o.s.c.q.PurgeCeActivities] Delete the Compute Engine tasks created before 1629895805084
2022.02.21 12:50:05 INFO  ce[][o.s.c.q.PurgeCeActivities] Delete the Scanner contexts tasks created before 1643028605095
2022.02.21 12:50:05 INFO  ce[][o.s.ce.app.CeServer] Compute Engine is operational
2022.02.21 13:21:14 INFO  ce[][o.s.p.StopWatcher] Stopping process
2022.02.21 13:21:14 INFO  ce[][o.s.ce.app.CeServer] Compute Engine is stopping...
2022.02.21 13:21:14 INFO  ce[][o.s.c.t.CeProcessingSchedulerImpl] Waiting for workers to finish in-progress tasks
2022.02.21 13:21:16 INFO  ce[][o.s.ce.app.CeServer] Compute Engine is stopped
2022.02.21 13:22:16 INFO  ce[][o.s.p.ProcessEntryPoint] Starting ce
2022.02.21 13:22:16 INFO  ce[][o.s.ce.app.CeServer] Compute Engine starting up...
2022.02.21 13:22:17 INFO  ce[][o.e.p.PluginsService] no modules loaded
2022.02.21 13:22:17 INFO  ce[][o.e.p.PluginsService] loaded plugin [org.elasticsearch.join.ParentJoinPlugin]
2022.02.21 13:22:17 INFO  ce[][o.e.p.PluginsService] loaded plugin [org.elasticsearch.percolator.PercolatorPlugin]
2022.02.21 13:22:17 INFO  ce[][o.e.p.PluginsService] loaded plugin [org.elasticsearch.transport.Netty4Plugin]
2022.02.21 13:22:18 INFO  ce[][o.s.s.e.EsClientProvider] Connected to local Elasticsearch: [127.0.0.1:9001]
2022.02.21 13:22:18 INFO  ce[][o.sonar.db.Database] Create JDBC data source for jdbc:h2:tcp://127.0.0.1:9092/sonar
2022.02.21 13:22:19 WARN  ce[][o.s.db.dialect.H2] H2 database should be used for evaluation purpose only.
2022.02.21 13:22:20 INFO  ce[][o.s.s.p.ServerFileSystemImpl] SonarQube home: /opt/sonarqube
2022.02.21 13:22:20 INFO  ce[][o.s.c.c.CePluginRepository] Load plugins
2022.02.21 13:22:22 INFO  ce[][o.s.c.c.ComputeEngineContainerImpl] Running Community edition
2022.02.21 13:22:22 INFO  ce[][o.s.c.q.PurgeCeActivities] Delete the Compute Engine tasks created before 1629897742447
2022.02.21 13:22:22 INFO  ce[][o.s.c.q.PurgeCeActivities] Delete the Scanner contexts tasks created before 1643030542458
2022.02.21 13:22:22 INFO  ce[][o.s.ce.app.CeServer] Compute Engine is operational
2022.02.21 14:47:09 WARN  ce[][o.a.c.d.BasicDataSource] An internal object pool swallowed an Exception.
org.h2.jdbc.JdbcSQLException: Connection is broken: "java.net.SocketTimeoutException: 127.0.0.1:9092" [90067-176]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:344)
	at org.h2.message.DbException.get(DbException.java:167)
	at org.h2.engine.SessionRemote.connectServer(SessionRemote.java:434)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:311)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:107)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:91)
	at org.h2.Driver.connect(Driver.java:74)
	at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:53)
	at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:291)
	at org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:883)
	at org.apache.commons.pool2.impl.GenericObjectPool.ensureIdle(GenericObjectPool.java:951)
	at org.apache.commons.pool2.impl.GenericObjectPool.ensureMinIdle(GenericObjectPool.java:930)
	at org.apache.commons.pool2.impl.BaseGenericObjectPool$Evictor.run(BaseGenericObjectPool.java:1121)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.net.SocketTimeoutException: null
	at java.base/java.net.SocksSocketImpl.remainingMillis(SocksSocketImpl.java:124)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.base/java.net.Socket.connect(Socket.java:609)
	at org.h2.util.NetUtils.createSocket(NetUtils.java:123)
	at org.h2.util.NetUtils.createSocket(NetUtils.java:103)
	at org.h2.engine.SessionRemote.initTransfer(SessionRemote.java:100)
	at org.h2.engine.SessionRemote.connectServer(SessionRemote.java:430)
	... 16 common frames omitted
2022.02.21 14:47:09 WARN  ce[][o.s.c.c.CeCleaningSchedulerImpl] Failed to cancel worn out tasks
org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.h2.jdbc.JdbcSQLException: Timeout trying to lock table "CE_QUEUE"; SQL statement:
select
       
    cq.uuid,
    cq.task_type as taskType,
    cq.component_uuid as componentUuid,
    cq.main_component_uuid as mainComponentUuid,
    cq.status as status,
    cq.submitter_uuid as submitterUuid,
    cq.worker_uuid as workerUuid,
    cq.started_at as startedAt,
    cq.created_at as createdAt,
    cq.updated_at as updatedAt
   
    from
      ce_queue cq
    where
      cq.status = 'PENDING'
      and cq.started_at is not null [50200-176]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:344)
	at org.h2.message.DbException.get(DbException.java:178)
	at org.h2.message.DbException.get(DbException.java:154)
	at org.h2.table.RegularTable.doLock(RegularTable.java:530)
	at org.h2.table.RegularTable.lock(RegularTable.java:464)
	at org.h2.table.TableFilter.lock(TableFilter.java:147)
	at org.h2.command.dml.Select.queryWithoutCache(Select.java:632)
	at org.h2.command.dml.Query.query(Query.java:323)
	at org.h2.command.dml.Query.query(Query.java:291)
	at org.h2.command.dml.Query.query(Query.java:37)
	at org.h2.command.CommandContainer.query(CommandContainer.java:91)
	at org.h2.command.Command.executeQuery(Command.java:197)
	at org.h2.server.TcpServerThread.process(TcpServerThread.java:321)
	at org.h2.server.TcpServerThread.run(TcpServerThread.java:160)
	at java.base/java.lang.Thread.run(Thread.java:829)

### The error may exist in org.sonar.db.ce.CeQueueMapper
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: select             cq.uuid,     cq.task_type as taskType,     cq.component_uuid as componentUuid,     cq.main_component_uuid as mainComponentUuid,     cq.status as status,     cq.submitter_uuid as submitterUuid,     cq.worker_uuid as workerUuid,     cq.started_at as startedAt,     cq.created_at as createdAt,     cq.updated_at as updatedAt         from       ce_queue cq     where       cq.status = 'PENDING'       and cq.started_at is not null
### Cause: org.h2.jdbc.JdbcSQLException: Timeout trying to lock table "CE_QUEUE"; SQL statement:
select
       
    cq.uuid,
    cq.task_type as taskType,
    cq.component_uuid as componentUuid,
    cq.main_component_uuid as mainComponentUuid,
    cq.status as status,
    cq.submitter_uuid as submitterUuid,
    cq.worker_uuid as workerUuid,
    cq.started_at as startedAt,
    cq.created_at as createdAt,
    cq.updated_at as updatedAt
   
    from
      ce_queue cq
    where
      cq.status = 'PENDING'
      and cq.started_at is not null [50200-176]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:344)
	at org.h2.message.DbException.get(DbException.java:178)
	at org.h2.message.DbException.get(DbException.java:154)
	at org.h2.table.RegularTable.doLock(RegularTable.java:530)
	at org.h2.table.RegularTable.lock(RegularTable.java:464)
	at org.h2.table.TableFilter.lock(TableFilter.java:147)
	at org.h2.command.dml.Select.queryWithoutCache(Select.java:632)
	at org.h2.command.dml.Query.query(Query.java:323)
	at org.h2.command.dml.Query.query(Query.java:291)
	at org.h2.command.dml.Query.query(Query.java:37)
	at org.h2.command.CommandContainer.query(CommandContainer.java:91)
	at org.h2.command.Command.executeQuery(Command.java:197)
	at org.h2.server.TcpServerThread.process(TcpServerThread.java:321)
	at org.h2.server.TcpServerThread.run(TcpServerThread.java:160)
	at java.base/java.lang.Thread.run(Thread.java:829)

	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:150)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:141)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:139)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:76)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:59)
	at com.sun.proxy.$Proxy34.selectWornout(Unknown Source)
	at org.sonar.db.ce.CeQueueDao.selectWornout(CeQueueDao.java:93)
	at org.sonar.ce.queue.InternalCeQueueImpl.cancelWornOuts(InternalCeQueueImpl.java:180)
	at org.sonar.ce.cleaning.CeCleaningSchedulerImpl.cancelWornOuts(CeCleaningSchedulerImpl.java:82)
	at org.sonar.ce.cleaning.CeCleaningSchedulerImpl.cleanCeQueue(CeCleaningSchedulerImpl.java:63)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: org.h2.jdbc.JdbcSQLException: Timeout trying to lock table "CE_QUEUE"; SQL statement:
select
       
    cq.uuid,
    cq.task_type as taskType,
    cq.component_uuid as componentUuid,
    cq.main_component_uuid as mainComponentUuid,
    cq.status as status,
    cq.submitter_uuid as submitterUuid,
    cq.worker_uuid as workerUuid,
    cq.started_at as startedAt,
    cq.created_at as createdAt,
    cq.updated_at as updatedAt
   
    from
      ce_queue cq
    where
      cq.status = 'PENDING'
      and cq.started_at is not null [50200-176]
	at org.h2.engine.SessionRemote.done(SessionRemote.java:606)
	at org.h2.command.CommandRemote.executeQuery(CommandRemote.java:159)
	at org.h2.jdbc.JdbcPreparedStatement.execute(JdbcPreparedStatement.java:193)
	at org.apache.commons.dbcp2.DelegatingPreparedStatement.execute(DelegatingPreparedStatement.java:94)
	at org.apache.commons.dbcp2.DelegatingPreparedStatement.execute(DelegatingPreparedStatement.java:94)
	at org.apache.ibatis.executor.statement.PreparedStatementHandler.query(PreparedStatementHandler.java:63)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:79)
	at org.apache.ibatis.executor.ReuseExecutor.doQuery(ReuseExecutor.java:60)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:326)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:156)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:109)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:83)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:148)
	... 15 common frames omitted
2022.02.21 14:48:56 WARN  ce[][o.a.c.d.BasicDataSource] An internal object pool swallowed an Exception.
org.h2.jdbc.JdbcSQLException: Connection is broken: "java.net.SocketTimeoutException: 127.0.0.1:9092" [90067-176]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:344)
	at org.h2.message.DbException.get(DbException.java:167)
	at org.h2.engine.SessionRemote.connectServer(SessionRemote.java:434)
	at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:311)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:107)
	at org.h2.jdbc.JdbcConnection.<init>(JdbcConnection.java:91)
	at org.h2.Driver.connect(Driver.java:74)
	at org.apache.commons.dbcp2.DriverConnectionFactory.createConnection(DriverConnectionFactory.java:53)
	at org.apache.commons.dbcp2.PoolableConnectionFactory.makeObject(PoolableConnectionFactory.java:291)
	at org.apache.commons.pool2.impl.GenericObjectPool.create(GenericObjectPool.java:883)
	at org.apache.commons.pool2.impl.GenericObjectPool.ensureIdle(GenericObjectPool.java:951)
	at org.apache.commons.pool2.impl.GenericObjectPool.ensureMinIdle(GenericObjectPool.java:930)
	at org.apache.commons.pool2.impl.BaseGenericObjectPool$Evictor.run(BaseGenericObjectPool.java:1121)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at java.base/java.lang.Thread.run(Thread.java:829)
Caused by: java.net.SocketTimeoutException: null
	at java.base/java.net.SocksSocketImpl.remainingMillis(SocksSocketImpl.java:124)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)
	at java.base/java.net.Socket.connect(Socket.java:609)
	at org.h2.util.NetUtils.createSocket(NetUtils.java:123)
	at org.h2.util.NetUtils.createSocket(NetUtils.java:103)
	at org.h2.engine.SessionRemote.initTransfer(SessionRemote.java:100)
	at org.h2.engine.SessionRemote.connectServer(SessionRemote.java:430)
	... 16 common frames omitted
